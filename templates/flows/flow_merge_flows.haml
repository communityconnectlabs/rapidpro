-extends "smartmin/form.html"

-load smartmin
-load i18n

- block pjax
  #pjax
    .row{style:"height:250px;"}
      .span3
        #big-help.glyph.icon-tree

      .span9
        %p
          -blocktrans with source=source.name target=target.name
            You are merging "{{ source }}" into "{{ target }}".
        %p
          -trans "All data will be moved from source to target flow. After merging source flow will be archived."
        %p
          -trans "Merging process will take some time."
          -trans "If you don't want to perform this action, click 'Cancel' button."

        %form#import-form.smartmin-form.horizontal-form{method:"post", enctype:"multipart/form-data"}
          - if errors
            - for error in errors
              %div.alert.alert-error.form-errors
                {{ error }}
                  
          -csrf_token

          -block fields
            %label{for: "flow_name"}
              -trans "Name for merging result flow."
            %input{type:"text", name:"flow_name", id:"flow_name", value:"{% if flow_name %}{{ flow_name }}{% else %}Merge of {{ source.name }} with {{ target.name }}{% endif %}"}
                    
          .form-buttons
            %input.btn.btn-primary{type:"submit", value:'{% trans "Merge" %}'}
            %a.btn{onclick:"javascript:history.go(-1)"}
              -trans "Cancel"

- block extra-script
  :javascript
    

- block extra-style
  :css
    .form-buttons {
      margin-top: 10px;
    }

    #example {
      margin-top: 20px;
      background: #f8f8f8;
    }

    #file-upload {
      position:relative;
    }

    #csv_file_errors {
      font-size: 20px;
    }

    #real-button {
      position: absolute;
      top: 0px;
      left: 0px;
      z-index: 1;
      height:35px;
      width:340px;
    }

    #file-field {
      width:255px;
      height:25px;
      font-size:16px;
      border:solid 1px #000;
      margin-bottom: 0px;
    }

    #csv_file {
      position:absolute;
      width:385px;
      height:40px;
      top: 0px;
      left: 0px;
      text-align: right;
      -moz-opacity:0 ;
      filter:alpha(opacity: 0);
      opacity: 0;
      z-index: 2;
    }

    #import-message .import-result {
      padding-bottom: 10px;
      font-size: 20px;
    }

    #import-message .import-result .glyph {
      font-size: 28px;
      margin: 0px 20px;
      line-height: 22px;
    }

    #import-message .import-result .well {
      font-size: 14px;
    }

    #import-message .import-result a {
      text-decoration :none;
    }

    .unblock-buttons .container {
      margin-left: auto;
      margin-right: auto;
      width: 150px;
    }
